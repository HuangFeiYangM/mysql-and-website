# git 的使用

## 名词解释

###　１拉取请求

拉取请求（Pull Request，简称 PR） 是 GitHub 上用于协作开发的核心功能，它的核心作用是 将代码变更提交给他人审查，并请求将代码合并到目标分支（如主分支 main）。以下是它的详细用途和工作流程：

拉取请求的核心作用
代码审查（Code Review）

开发者完成代码修改后，通过 PR 邀请他人检查代码逻辑、风格、潜在问题等。
团队成员可以在 PR 的评论区讨论代码，提出修改建议。
触发自动化流程

如果仓库配置了 CI/CD（如 GitHub Actions），提交 PR 会自动运行测试、代码检查等流程，确保代码质量。
合并代码前的最后确认

通过 PR 的讨论和自动化检查后，管理员确认无误才会将代码合并到主分支，避免直接推送代码导致的主分支污染。
记录变更历史

PR 的标题、描述、评论会永久保留，方便追溯代码变更的原因和决策过程。
拉取请求的典型使用场景
场景 1：团队协作开发
流程：
开发者从主分支 main 新建一个功能分支（如 feature/login）。
在 feature/login 分支上开发并提交代码。
开发完成后，向 main 分支发起 PR，请求合并代码。
团队成员审查代码，讨论修改。
通过审查后，代码合并到 main 分支。
场景 2：开源项目贡献
流程：
你 Fork（复制）开源项目到自己的 GitHub 账号。
在自己的仓库中修改代码并提交。
向原项目的仓库发起 PR，请求对方接受你的代码。
项目维护者审查你的代码，决定是否合并。
拉取请求的组成部分
标题和描述

标题：简要说明修改内容（如 Fix login page layout bug）。
描述：详细解释修改原因、方法、测试结果等。可以关联 Issue（如 Closes #123）。
代码变更（Files changed）

显示所有新增、删除、修改的代码行，支持行级评论。
审查工具（Review）

审查者可以批准（Approve）、请求修改（Request changes）或直接评论。
自动化状态检查

显示测试、代码覆盖率、安全检查等结果（需提前配置 CI/CD）。
拉取请求的最佳实践
保持 PR 小型化

一个 PR 只解决一个问题或实现一个功能，避免混杂多个修改。
写好描述

说明修改背景、影响范围、测试方法，方便他人理解。
关联 Issue

在描述中引用相关 Issue（如 Fixes #45），PR 合并后会自动关闭对应 Issue。
解决冲突

如果目标分支（如 main）有新提交导致冲突，需先本地解决冲突并推送更新。
示例：一个典型的 PR 流程
你修复了一个 Bug，提交到分支 fix/header-error。
发起 PR，目标分支设为 main，描述写：“修复首页头部布局错位问题，已测试 Chrome 和 Firefox”。
同事审查代码，发现某处 CSS 属性可能不兼容旧浏览器，留下评论建议修改。
你根据建议调整代码，再次推送更新。
审查通过后，点击 Merge pull request，代码合并到 main 分支。
与 Git 命令的关系
PR 是 GitHub 提供的协作工具，底层依赖 Git 的分支和合并操作。
等价于 Git 的本地操作：git merge 或 git rebase，但 PR 增加了协作和审查流程。
总结：拉取请求是 GitHub 协作开发的“安全阀门”，通过代码审查和自动化检查，确保代码质量，同时记录完整的协作过程。无论是团队项目还是开源贡献，PR 都是高效协作的关键工具！



### 2.签出


签出（Checkout） 是 Git 中一个基础且重要的操作，主要用于 切换分支 或 恢复文件。它的核心作用是修改你的本地工作目录（Working Directory）中的文件，使其与某个特定分支、提交（Commit）或标签（Tag）的状态一致。

签出的三大核心用途
1. 切换分支
作用：将工作目录切换到另一个分支的代码状态。
示例：
<BASH>
git checkout main          # 切换到主分支
git checkout feature/login # 切换到 feature/login 分支
注意事项：
切换分支前，需提交或暂存当前修改，否则 Git 会阻止切换（除非使用 git stash 暂存改动）。
切换分支后，工作目录中的文件会自动更新为目标分支的最新版本。
2. 恢复文件到某个版本
作用：将某个文件恢复到指定提交或分支中的版本，覆盖当前工作目录中的文件。
示例：
<BASH>
git checkout HEAD~1 README.md  # 恢复 README.md 到上一个提交的版本
git checkout main app.js       # 恢复 app.js 到 main 分支的版本
注意事项：
恢复文件不会影响其他文件的修改。
若想撤销所有未提交的修改，可以用 git checkout -- .（谨慎使用！会丢失所有改动）。
3. 检出提交或标签（只读模式）
作用：查看某个历史提交或标签对应的代码快照（此时处于“分离头指针”状态）。
示例：
<BASH>
git checkout v1.0.0    # 查看标签 v1.0.0 对应的代码
git checkout a1b2c3d  # 查看提交哈希为 a1b2c3d 的代码
注意事项：
此状态下修改代码后，需新建分支才能保存变更（否则切换分支时会丢失修改）。
适用于临时查看历史代码或调试问题。
签出与拉取请求（Pull Request）的关系
在协作开发中，git checkout 常与拉取请求配合使用：

创建新分支：

<BASH>
git checkout -b feature/new-button  # 创建并切换到新分支
在此分支开发新功能，完成后发起拉取请求（PR）到主分支。

查看他人分支：

<BASH>
git checkout origin/feature/login  # 查看远程分支的代码（只读）
用于本地审查他人提交的代码（如配合 PR 审查）。

实际场景示例
场景 1：修复 Bug
从主分支 main 切换到新分支：
<BASH>
git checkout -b fix/header-error
修改代码后提交：
<BASH>
git add .
git commit -m "修复页面头部错位问题"
发起拉取请求（PR），请求将 fix/header-error 合并到 main。
场景 2：恢复误删文件
假设你不小心删除了 config.js 文件：

<BASH>
git checkout HEAD config.js  # 从最新提交中恢复该文件
注意事项
签出会覆盖本地文件：如果工作目录有未提交的修改，切换分支或恢复文件时可能会被覆盖（Git 会提示冲突或拒绝操作）。
分离头指针（Detached HEAD）：直接签出某个提交（而非分支）时，会进入只读模式，修改代码后需新建分支保存变更：
<BASH>
git checkout -b temp-branch  # 从当前提交创建新分支
总结
切换分支 → git checkout <分支名>
恢复文件 → git checkout <提交或分支> <文件路径>
查看历史代码 → git checkout <提交哈希或标签>
git checkout 是 Git 中管理分支和文件版本的核心命令，灵活使用它，可以高效控制代码的版本和协作流程！